[2025-11-25 07:00:01] ============================================
[2025-11-25 07:00:01] Iniciando scraping paralelo diÃ¡rio
[2025-11-25 07:00:01] ============================================
[2025-11-25 07:00:01] Venv ativado com sucesso
[2025-11-25 07:00:01] Navegado para /home/vivaservicesai/htdocs/app
[2025-11-25 07:00:01] Executando: python3 utils/scraping_parallel.py daily 2
INICIANDO SCRAPING PARALELO (DAILY) - Max Workers: 2
================================================================================
Encontradas 2 contas para processar:
  - ABI Brasil (Username: abib_493)
  - Sorocaba Refrescos (Username: sorocaba_215)

Iniciando processamento paralelo...

================================================================================
PROCESSANDO CLIENTE (DADOS DIÃRIOS): ABI Brasil (Username: abib_493)
================================================================================
Passo 1: Fazendo GET inicial para estabelecer sessao para abib_493...

================================================================================
PROCESSANDO CLIENTE (DADOS DIÃRIOS): Sorocaba Refrescos (Username: sorocaba_215)
================================================================================
Passo 1: Fazendo GET inicial para estabelecer sessao para sorocaba_215...
GET Status: 200

Passo 2: Fazendo POST com credenciais...
GET Status: 200

Passo 2: Fazendo POST com credenciais...
Login Status: 302
OK - Login bem-sucedido! Seguindo redirect...
Login Status: 302
OK - Login bem-sucedido! Seguindo redirect...
Default Page Status: 200
Login realizado com sucesso para ABI Brasil

Buscando registros de saÃºde para ABI Brasil...

============================================================
Exportando registros de saÃºde dos dispositivos...
============================================================
PerÃ­odo: 11/23/2025 atÃ© 11/26/2025
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/SmartDeviceHealthRecord.ashx?v=Wed%20Nov%2026%202025%2000%3A00%3A00%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 9754 caracteres
Default Page Status: 200
Login realizado com sucesso para Sorocaba Refrescos

Buscando registros de saÃºde para Sorocaba Refrescos...

============================================================
Exportando registros de saÃºde dos dispositivos...
============================================================
PerÃ­odo: 11/23/2025 atÃ© 11/26/2025
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/SmartDeviceHealthRecord.ashx?v=Wed%20Nov%2026%202025%2000%3A00%3A00%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 9754 caracteres

Status: 200
OK - Requisicao bem-sucedida!

OK - Arquivo XLSX salvo: docs/health_events.xlsx
Tamanho: 66993 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de saÃºde salvo: docs/ABI_Brasil_health_events.xlsx

Buscando registros de movimento para ABI Brasil...

============================================================
Exportando registros de movimento dos dispositivos...
============================================================
Periodo: 11/23/2025 ate 11/26/2025
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/SmartDeviceMovement.ashx?v=Wed%20Nov%2026%202025%2000%3A00%3A00%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 6447 caracteres

Status: 200
OK - Requisicao bem-sucedida!

OK - Arquivo XLSX salvo: docs/health_events.xlsx
Tamanho: 226681 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de saÃºde salvo: docs/Sorocaba_Refrescos_health_events.xlsx

Buscando registros de movimento para Sorocaba Refrescos...

============================================================
Exportando registros de movimento dos dispositivos...
============================================================
Periodo: 11/23/2025 ate 11/26/2025
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/SmartDeviceMovement.ashx?v=Wed%20Nov%2026%202025%2000%3A00%3A00%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 6447 caracteres

Status: 200
OK - Requisicao bem-sucedida!

OK - Arquivo XLSX salvo: docs/movements.xlsx
Tamanho: 197439 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de movimento salvo: docs/ABI_Brasil_movements.xlsx

Buscando alerts para ABI Brasil...

============================================================
Exportando dados de Alerts...
============================================================
PerÃ­odo: 11/23/2025 atÃ© 11/26/2025
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/Alert.ashx?v=Wed%20Nov%2026%202025%2000%3A00%3A00%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 6561 caracteres

Status: 200
OK - Requisicao bem-sucedida!

OK - Arquivo XLSX salvo: docs/movements.xlsx
Tamanho: 235032 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de movimento salvo: docs/Sorocaba_Refrescos_movements.xlsx

Buscando alerts para Sorocaba Refrescos...

============================================================
Exportando dados de Alerts...
============================================================
PerÃ­odo: 11/23/2025 atÃ© 11/26/2025
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/Alert.ashx?v=Wed%20Nov%2026%202025%2000%3A00%3A00%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 6561 caracteres

Status: 200
OK - RequisiÃ§Ã£o bem-sucedida!

OK - Arquivo XLSX salvo: docs/alerts.xlsx
Tamanho: 9113 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de alerts salvo: docs/ABI_Brasil_alerts.xlsx

Buscando door statuses para ABI Brasil...

============================================================
Exportando dados de Door Statuses...
============================================================
PerÃ­odo: 11/23/2025 atÃ© 11/26/2025
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/SmartDeviceDoorStatus.ashx?v=Wed%20Nov%2026%202025%2000%3A00%3A00%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 6933 caracteres

Status: 200
OK - RequisiÃ§Ã£o bem-sucedida!

OK - Arquivo XLSX salvo: docs/alerts.xlsx
Tamanho: 8395 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de alerts salvo: docs/Sorocaba_Refrescos_alerts.xlsx

Buscando door statuses para Sorocaba Refrescos...

============================================================
Exportando dados de Door Statuses...
============================================================
PerÃ­odo: 11/23/2025 atÃ© 11/26/2025
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/SmartDeviceDoorStatus.ashx?v=Wed%20Nov%2026%202025%2000%3A00%3A00%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 6933 caracteres

Status: 200
OK - RequisiÃ§Ã£o bem-sucedida!

OK - Arquivo CSV salvo: docs/door_statuses.csv
Tamanho: 250500 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de door statuses salvo: docs/ABI_Brasil_door_statuses.csv

Buscando users para ABI Brasil...

============================================================
Exportando dados de Users...
============================================================
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/SecurityAppUser.ashx?v=Tue%20Nov%2025%202025%2007%3A00%3A52%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 4663 caracteres

Status: 200
OK - RequisiÃ§Ã£o bem-sucedida!

OK - Arquivo XLSX salvo: docs/users.xlsx
Tamanho: 535790 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de users salvo: docs/ABI_Brasil_users.xlsx

Fazendo logout de ABI Brasil...

============================================================
Fazendo logout...
============================================================
Status: 200
OK - Logout realizado com sucesso!
OK - Cookies limpos da sessao

============================================================
DOWNLOAD DIÃRIO COMPLETO - ABI Brasil
============================================================
Health Events: docs/ABI_Brasil_health_events.xlsx
Movements: docs/ABI_Brasil_movements.xlsx
Alerts: docs/ABI_Brasil_alerts.xlsx
Door Statuses: docs/ABI_Brasil_door_statuses.csv
Users: docs/ABI_Brasil_users.xlsx

Todos os dados diÃ¡rios de ABI Brasil foram baixados com sucesso!
Para inserir no banco de dados, execute: python3 import_all_data.py

>>> CONCLUSÃƒO: ABI Brasil finalizado com SUCESSO

Status: 200
OK - RequisiÃ§Ã£o bem-sucedida!

OK - Arquivo CSV salvo: docs/door_statuses.csv
Tamanho: 581886 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de door statuses salvo: docs/Sorocaba_Refrescos_door_statuses.csv

Buscando users para Sorocaba Refrescos...

============================================================
Exportando dados de Users...
============================================================
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/SecurityAppUser.ashx?v=Tue%20Nov%2025%202025%2007%3A01%3A12%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 4663 caracteres

Status: 200
OK - RequisiÃ§Ã£o bem-sucedida!

OK - Arquivo XLSX salvo: docs/users.xlsx
Tamanho: 40949 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de users salvo: docs/Sorocaba_Refrescos_users.xlsx

Fazendo logout de Sorocaba Refrescos...

============================================================
Fazendo logout...
============================================================
Status: 200
OK - Logout realizado com sucesso!
OK - Cookies limpos da sessao

============================================================
DOWNLOAD DIÃRIO COMPLETO - Sorocaba Refrescos
============================================================
Health Events: docs/Sorocaba_Refrescos_health_events.xlsx
Movements: docs/Sorocaba_Refrescos_movements.xlsx
Alerts: docs/Sorocaba_Refrescos_alerts.xlsx
Door Statuses: docs/Sorocaba_Refrescos_door_statuses.csv
Users: docs/Sorocaba_Refrescos_users.xlsx

Todos os dados diÃ¡rios de Sorocaba Refrescos foram baixados com sucesso!
Para inserir no banco de dados, execute: python3 import_all_data.py

>>> CONCLUSÃƒO: Sorocaba Refrescos finalizado com SUCESSO

================================================================================
RESUMO FINAL - TODOS OS CLIENTES (DAILY)
================================================================================
ABI Brasil: âœ“ SUCESSO
Sorocaba Refrescos: âœ“ SUCESSO

Total processado: 2/2 clientes com sucesso
âœ“ Todos os clientes processados com sucesso!

============================================================
INICIANDO IMPORTAÃ‡ÃƒO AUTOMÃTICA DOS DADOS
============================================================
âœ“ ImportaÃ§Ã£o automÃ¡tica concluÃ­da com sucesso!

SaÃ­da da importaÃ§Ã£o:

================================================================================
ğŸš€ IMPORTAÃ‡ÃƒO EM LOTE OTIMIZADA (MULTIPROCESSING) - PORTAL ASSOCIAÃ‡ÃƒO
================================================================================

ğŸ“‚ Encontrados 10 arquivo(s) para importaÃ§Ã£o.
âš™ï¸  Utilizando 4 processos paralelos.

ğŸš€ [PID 470836] Iniciando ABI_Brasil_movements.xlsx (Movement)...
ğŸš€ Iniciando importaÃ§Ã£o para Movement...
âš™ï¸ Processando 1152 registros...
âœ… Processados 1152 registros vÃ¡lidos para inserÃ§Ã£o
   â†³ Lote 1: 1152 registros processados.
âœ… Movement importado. Total processado (Insert/Update): 1152
ğŸ”„ Atualizando Materialized Views...
ğŸš€ [PID 470836] Iniciando Sorocaba_Refrescos_users.xlsx (User)...
ğŸš€ Iniciando importaÃ§Ã£o para User...
âš™ï¸ Processando 264 registros...
âœ… Processados 264 registros vÃ¡lidos para inserÃ§Ã£o
   â†³ Lote 1: 264 registros processados.
âœ… User importado. Total processado (Insert/Update): 264
ğŸš€ [PID 470834] Iniciando ABI_Brasil_door_statuses.csv (DoorEvent)...
ğŸš€ Iniciando importaÃ§Ã£o para DoorEvent...
âš™ï¸ Processando 186 registros...
âœ… Processados 0 registros vÃ¡lidos para inserÃ§Ã£o
âš ï¸ Nenhum registro vÃ¡lido para importar.
ğŸš€ [PID 470834] Iniciando ABI_Brasil_users.xlsx (User)...
ğŸš€ Iniciando importaÃ§Ã£o para User...
âš™ï¸ Processando 4690 registros...
âœ… Processados 4690 registros vÃ¡lidos para inserÃ§Ã£o
   â†³ Lote 1: 4690 registros processados.
âœ… User importado. Total processado (Insert/Update): 4690
ğŸš€ [PID 470834] Iniciando Sorocaba_Refrescos_alerts.xlsx (Alert)...
ğŸš€ Iniciando importaÃ§Ã£o para Alert...
âš™ï¸ Processando 4 registros...
âœ… Processados 4 registros vÃ¡lidos para inserÃ§Ã£o
   â†³ Lote 1: 4 registros processados.
âœ… Alert importado. Total processado (Insert/Update): 4
ğŸ”„ Atualizando Materialized Views...
ğŸš€ [PID 470835] Iniciando ABI_Brasil_health_events.xlsx (HealthEvent)...
ğŸš€ Iniciando importaÃ§Ã£o para HealthEvent...
âš™ï¸ Processando 294 registros...
âœ… Processados 294 registros vÃ¡lidos para inserÃ§Ã£o
   â†³ Lote 1: 294 registros processados.
âœ… HealthEvent importado. Total processado (Insert/Update): 294
ğŸ”„ Atualizando Materialized Views...
ğŸš€ [PID 470835] Iniciando Sorocaba_Refrescos_movements.xlsx (Movement)...
ğŸš€ Iniciando importaÃ§Ã£o para Movement...
âš™ï¸ Processando 1338 registros...
âœ… Processados 1338 registros vÃ¡lidos para inserÃ§Ã£o
   â†³ Lote 1: 1338 registros processados.
âœ… Movement importado. Total processado (Insert/Update): 1338
ğŸ”„ Atualizando Materialized Views...
ğŸš€ [PID 470833] Iniciando ABI_Brasil_alerts.xlsx (Alert)...
ğŸš€ Iniciando importaÃ§Ã£o para Alert...
âš™ï¸ Processando 10 registros...
âœ… Processados 10 registros vÃ¡lidos para inserÃ§Ã£o
   â†³ Lote 1: 10 registros processados.
âœ… Alert importado. Total processado (Insert/Update): 10
ğŸ”„ Atualizando Materialized Views...
ğŸš€ [PID 470833] Iniciando Sorocaba_Refrescos_door_statuses.csv (DoorEvent)...
ğŸš€ Iniciando importaÃ§Ã£o para DoorEvent...
âš™ï¸ Processando 158 registros...
âœ… Processados 0 registros vÃ¡lidos para inserÃ§Ã£o
âš ï¸ Nenhum registro vÃ¡lido para importar.
ğŸš€ [PID 470833] Iniciando Sorocaba_Refrescos_health_events.xlsx (HealthEvent)...
ğŸš€ Iniciando importaÃ§Ã£o para HealthEvent...
âš™ï¸ Processando 1072 registros...
âœ… Processados 1072 registros vÃ¡lidos para inserÃ§Ã£o
   â†³ Lote 1: 1072 registros processados.
âœ… HealthEvent importado. Total processado (Insert/Update): 1072
ğŸ”„ Atualizando Materialized Views...
âœ… ABI_Brasil_door_statuses.csv: Sucesso. (Arquivo deletado)
âœ… ABI_Brasil_users.xlsx: Sucesso. (Arquivo deletado)
âœ… ABI_Brasil_alerts.xlsx: Sucesso. (Arquivo deletado)
âœ… Sorocaba_Refrescos_door_statuses.csv: Sucesso. (Arquivo deletado)
âœ… ABI_Brasil_health_events.xlsx: Sucesso. (Arquivo deletado)
âœ… ABI_Brasil_movements.xlsx: Sucesso. (Arquivo deletado)
âœ… Sorocaba_Refrescos_users.xlsx: Sucesso. (Arquivo deletado)
âœ… Sorocaba_Refrescos_alerts.xlsx: Sucesso. (Arquivo deletado)
âœ… Sorocaba_Refrescos_movements.xlsx: Sucesso. (Arquivo deletado)
âœ… Sorocaba_Refrescos_health_events.xlsx: Sucesso. (Arquivo deletado)

â±ï¸  Tempo total: 41.32 segundos
ğŸ“Š Resumo: 10/10 arquivos importados com sucesso

ğŸ”„ Atualizando Materialized Views finais...
âœ… Materialized Views atualizadas.

[2025-11-25 07:02:02] âœ“ Scraping concluÃ­do com sucesso
[2025-11-25 07:02:02] ============================================
[2025-11-25 07:02:02] Scraping diÃ¡rio finalizado
[2025-11-25 07:02:02] ============================================
[2025-11-26 07:00:01] ============================================
[2025-11-26 07:00:01] Iniciando scraping paralelo diÃ¡rio
[2025-11-26 07:00:01] ============================================
[2025-11-26 07:00:01] Venv ativado com sucesso
[2025-11-26 07:00:01] Navegado para /home/vivaservicesai/htdocs/app
[2025-11-26 07:00:01] Executando: python3 utils/scraping_parallel.py daily 2
INICIANDO SCRAPING PARALELO (DAILY) - Max Workers: 2
================================================================================
Encontradas 3 contas para processar:
  - ABI Brasil (Username: abib_493)
  - Sorocaba Refrescos (Username: sorocaba_215)
  - Fogel de Centroamerica, S.A. (Username: fgl_426)

Iniciando processamento paralelo...

================================================================================
PROCESSANDO CLIENTE (DADOS DIÃRIOS): ABI Brasil (Username: abib_493)
================================================================================
Passo 1: Fazendo GET inicial para estabelecer sessao para abib_493...

================================================================================
PROCESSANDO CLIENTE (DADOS DIÃRIOS): Sorocaba Refrescos (Username: sorocaba_215)
================================================================================
Passo 1: Fazendo GET inicial para estabelecer sessao para sorocaba_215...
GET Status: 200

Passo 2: Fazendo POST com credenciais...
GET Status: 200

Passo 2: Fazendo POST com credenciais...
Login Status: 302
OK - Login bem-sucedido! Seguindo redirect...
Login Status: 302
OK - Login bem-sucedido! Seguindo redirect...
Default Page Status: 200
Login realizado com sucesso para Sorocaba Refrescos

Buscando registros de saÃºde para Sorocaba Refrescos...

============================================================
Exportando registros de saÃºde dos dispositivos...
============================================================
PerÃ­odo: 11/24/2025 atÃ© 11/27/2025
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/SmartDeviceHealthRecord.ashx?v=Thu%20Nov%2027%202025%2000%3A00%3A00%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 9754 caracteres
Default Page Status: 200
Login realizado com sucesso para ABI Brasil

Buscando registros de saÃºde para ABI Brasil...

============================================================
Exportando registros de saÃºde dos dispositivos...
============================================================
PerÃ­odo: 11/24/2025 atÃ© 11/27/2025
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/SmartDeviceHealthRecord.ashx?v=Thu%20Nov%2027%202025%2000%3A00%3A00%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 9754 caracteres

Status: 200
OK - Requisicao bem-sucedida!

OK - Arquivo XLSX salvo: docs/health_events.xlsx
Tamanho: 83782 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de saÃºde salvo: docs/ABI_Brasil_health_events.xlsx

Buscando registros de movimento para ABI Brasil...

============================================================
Exportando registros de movimento dos dispositivos...
============================================================
Periodo: 11/24/2025 ate 11/27/2025
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/SmartDeviceMovement.ashx?v=Thu%20Nov%2027%202025%2000%3A00%3A00%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 6447 caracteres

Status: 200
OK - Requisicao bem-sucedida!

OK - Arquivo XLSX salvo: docs/health_events.xlsx
Tamanho: 606900 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de saÃºde salvo: docs/Sorocaba_Refrescos_health_events.xlsx

Buscando registros de movimento para Sorocaba Refrescos...

============================================================
Exportando registros de movimento dos dispositivos...
============================================================
Periodo: 11/24/2025 ate 11/27/2025
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/SmartDeviceMovement.ashx?v=Thu%20Nov%2027%202025%2000%3A00%3A00%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 6447 caracteres

Status: 200
OK - Requisicao bem-sucedida!

OK - Arquivo XLSX salvo: docs/movements.xlsx
Tamanho: 259913 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de movimento salvo: docs/ABI_Brasil_movements.xlsx

Buscando alerts para ABI Brasil...

============================================================
Exportando dados de Alerts...
============================================================
PerÃ­odo: 11/24/2025 atÃ© 11/27/2025
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/Alert.ashx?v=Thu%20Nov%2027%202025%2000%3A00%3A00%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 6561 caracteres

Status: 200
OK - Requisicao bem-sucedida!

OK - Arquivo XLSX salvo: docs/movements.xlsx
Tamanho: 617697 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de movimento salvo: docs/Sorocaba_Refrescos_movements.xlsx

Buscando alerts para Sorocaba Refrescos...

============================================================
Exportando dados de Alerts...
============================================================
PerÃ­odo: 11/24/2025 atÃ© 11/27/2025
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/Alert.ashx?v=Thu%20Nov%2027%202025%2000%3A00%3A00%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 6561 caracteres

Status: 200
OK - RequisiÃ§Ã£o bem-sucedida!

OK - Arquivo XLSX salvo: docs/alerts.xlsx
Tamanho: 9723 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de alerts salvo: docs/Sorocaba_Refrescos_alerts.xlsx

Buscando door statuses para Sorocaba Refrescos...

============================================================
Exportando dados de Door Statuses...
============================================================
PerÃ­odo: 11/24/2025 atÃ© 11/27/2025
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/SmartDeviceDoorStatus.ashx?v=Thu%20Nov%2027%202025%2000%3A00%3A00%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 6933 caracteres

Status: 200
OK - RequisiÃ§Ã£o bem-sucedida!

OK - Arquivo XLSX salvo: docs/alerts.xlsx
Tamanho: 10392 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de alerts salvo: docs/ABI_Brasil_alerts.xlsx

Buscando door statuses para ABI Brasil...

============================================================
Exportando dados de Door Statuses...
============================================================
PerÃ­odo: 11/24/2025 atÃ© 11/27/2025
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/SmartDeviceDoorStatus.ashx?v=Thu%20Nov%2027%202025%2000%3A00%3A00%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 6933 caracteres

Status: 200
OK - RequisiÃ§Ã£o bem-sucedida!

OK - Arquivo CSV salvo: docs/door_statuses.csv
Tamanho: 340722 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de door statuses salvo: docs/ABI_Brasil_door_statuses.csv

Buscando users para ABI Brasil...

============================================================
Exportando dados de Users...
============================================================
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/SecurityAppUser.ashx?v=Wed%20Nov%2026%202025%2007%3A00%3A49%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 4663 caracteres

Status: 200
OK - RequisiÃ§Ã£o bem-sucedida!

OK - Arquivo CSV salvo: docs/door_statuses.csv
Tamanho: 1467490 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de door statuses salvo: docs/Sorocaba_Refrescos_door_statuses.csv

Buscando users para Sorocaba Refrescos...

============================================================
Exportando dados de Users...
============================================================
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/SecurityAppUser.ashx?v=Wed%20Nov%2026%202025%2007%3A01%3A04%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 4663 caracteres

Status: 200
OK - RequisiÃ§Ã£o bem-sucedida!

OK - Arquivo XLSX salvo: docs/users.xlsx
Tamanho: 535723 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de users salvo: docs/ABI_Brasil_users.xlsx

Fazendo logout de ABI Brasil...

============================================================
Fazendo logout...
============================================================

Status: 200
OK - RequisiÃ§Ã£o bem-sucedida!

OK - Arquivo XLSX salvo: docs/users.xlsx
Tamanho: 40952 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de users salvo: docs/Sorocaba_Refrescos_users.xlsx

Fazendo logout de Sorocaba Refrescos...

============================================================
Fazendo logout...
============================================================
Status: 200
OK - Logout realizado com sucesso!
OK - Cookies limpos da sessao

============================================================
DOWNLOAD DIÃRIO COMPLETO - ABI Brasil
============================================================
Health Events: docs/ABI_Brasil_health_events.xlsx
Movements: docs/ABI_Brasil_movements.xlsx
Alerts: docs/ABI_Brasil_alerts.xlsx
Door Statuses: docs/ABI_Brasil_door_statuses.csv
Users: docs/ABI_Brasil_users.xlsx

Todos os dados diÃ¡rios de ABI Brasil foram baixados com sucesso!
Para inserir no banco de dados, execute: python3 import_all_data.py

================================================================================
PROCESSANDO CLIENTE (DADOS DIÃRIOS): Fogel de Centroamerica, S.A. (Username: fgl_426)
================================================================================
Passo 1: Fazendo GET inicial para estabelecer sessao para fgl_426...

>>> CONCLUSÃƒO: ABI Brasil finalizado com SUCESSO
Status: 200
OK - Logout realizado com sucesso!
OK - Cookies limpos da sessao

============================================================
DOWNLOAD DIÃRIO COMPLETO - Sorocaba Refrescos
============================================================
Health Events: docs/Sorocaba_Refrescos_health_events.xlsx
Movements: docs/Sorocaba_Refrescos_movements.xlsx
Alerts: docs/Sorocaba_Refrescos_alerts.xlsx
Door Statuses: docs/Sorocaba_Refrescos_door_statuses.csv
Users: docs/Sorocaba_Refrescos_users.xlsx

Todos os dados diÃ¡rios de Sorocaba Refrescos foram baixados com sucesso!
Para inserir no banco de dados, execute: python3 import_all_data.py

>>> CONCLUSÃƒO: Sorocaba Refrescos finalizado com SUCESSO
GET Status: 200

Passo 2: Fazendo POST com credenciais...
Login Status: 302
OK - Login bem-sucedido! Seguindo redirect...
Default Page Status: 200
Login realizado com sucesso para Fogel de Centroamerica, S.A.

Buscando registros de saÃºde para Fogel de Centroamerica, S.A....

============================================================
Exportando registros de saÃºde dos dispositivos...
============================================================
PerÃ­odo: 11/24/2025 atÃ© 11/27/2025
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/SmartDeviceHealthRecord.ashx?v=Thu%20Nov%2027%202025%2000%3A00%3A00%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 9754 caracteres

Status: 200
OK - Requisicao bem-sucedida!

OK - Arquivo XLSX salvo: docs/health_events.xlsx
Tamanho: 9142 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de saÃºde salvo: docs/Fogel_de_Centroamerica,_S.A._health_events.xlsx

Buscando registros de movimento para Fogel de Centroamerica, S.A....

============================================================
Exportando registros de movimento dos dispositivos...
============================================================
Periodo: 11/24/2025 ate 11/27/2025
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/SmartDeviceMovement.ashx?v=Thu%20Nov%2027%202025%2000%3A00%3A00%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 6447 caracteres

Status: 200
OK - Requisicao bem-sucedida!

OK - Arquivo XLSX salvo: docs/movements.xlsx
Tamanho: 6500 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de movimento salvo: docs/Fogel_de_Centroamerica,_S.A._movements.xlsx

Buscando alerts para Fogel de Centroamerica, S.A....

============================================================
Exportando dados de Alerts...
============================================================
PerÃ­odo: 11/24/2025 atÃ© 11/27/2025
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/Alert.ashx?v=Thu%20Nov%2027%202025%2000%3A00%3A00%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 6561 caracteres

Status: 200
OK - RequisiÃ§Ã£o bem-sucedida!

OK - Arquivo XLSX salvo: docs/alerts.xlsx
Tamanho: 6595 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de alerts salvo: docs/Fogel_de_Centroamerica,_S.A._alerts.xlsx

Buscando door statuses para Fogel de Centroamerica, S.A....

============================================================
Exportando dados de Door Statuses...
============================================================
PerÃ­odo: 11/24/2025 atÃ© 11/27/2025
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/SmartDeviceDoorStatus.ashx?v=Thu%20Nov%2027%202025%2000%3A00%3A00%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 6933 caracteres

Status: 200
OK - RequisiÃ§Ã£o bem-sucedida!

OK - Arquivo CSV salvo: docs/door_statuses.csv
Tamanho: 1314 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de door statuses salvo: docs/Fogel_de_Centroamerica,_S.A._door_statuses.csv

Buscando users para Fogel de Centroamerica, S.A....

============================================================
Exportando dados de Users...
============================================================
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/SecurityAppUser.ashx?v=Wed%20Nov%2026%202025%2007%3A01%3A34%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 4663 caracteres

Status: 200
OK - RequisiÃ§Ã£o bem-sucedida!

OK - Arquivo XLSX salvo: docs/users.xlsx
Tamanho: 6863 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de users salvo: docs/Fogel_de_Centroamerica,_S.A._users.xlsx

Fazendo logout de Fogel de Centroamerica, S.A....

============================================================
Fazendo logout...
============================================================
Status: 200
OK - Logout realizado com sucesso!
OK - Cookies limpos da sessao

============================================================
DOWNLOAD DIÃRIO COMPLETO - Fogel de Centroamerica, S.A.
============================================================
Health Events: docs/Fogel_de_Centroamerica,_S.A._health_events.xlsx
Movements: docs/Fogel_de_Centroamerica,_S.A._movements.xlsx
Alerts: docs/Fogel_de_Centroamerica,_S.A._alerts.xlsx
Door Statuses: docs/Fogel_de_Centroamerica,_S.A._door_statuses.csv
Users: docs/Fogel_de_Centroamerica,_S.A._users.xlsx

Todos os dados diÃ¡rios de Fogel de Centroamerica, S.A. foram baixados com sucesso!
Para inserir no banco de dados, execute: python3 import_all_data.py

>>> CONCLUSÃƒO: Fogel de Centroamerica, S.A. finalizado com SUCESSO

================================================================================
RESUMO FINAL - TODOS OS CLIENTES (DAILY)
================================================================================
ABI Brasil: âœ“ SUCESSO
Sorocaba Refrescos: âœ“ SUCESSO
Fogel de Centroamerica, S.A.: âœ“ SUCESSO

Total processado: 3/3 clientes com sucesso
âœ“ Todos os clientes processados com sucesso!

============================================================
INICIANDO IMPORTAÃ‡ÃƒO AUTOMÃTICA DOS DADOS
============================================================
âœ“ ImportaÃ§Ã£o automÃ¡tica concluÃ­da com sucesso!

SaÃ­da da importaÃ§Ã£o:

================================================================================
ğŸš€ IMPORTAÃ‡ÃƒO EM LOTE OTIMIZADA (MULTIPROCESSING) - PORTAL ASSOCIAÃ‡ÃƒO
================================================================================

ğŸ“‚ Encontrados 15 arquivo(s) para importaÃ§Ã£o.
âš™ï¸  Utilizando 4 processos paralelos.

ğŸš€ [PID 535069] Iniciando ABI_Brasil_movements.xlsx (Movement)...
ğŸš€ Iniciando importaÃ§Ã£o para Movement...
âš™ï¸ Processando 1508 registros...
âœ… Processados 1508 registros vÃ¡lidos para inserÃ§Ã£o
   â†³ Lote 1: 1508 registros processados.
âœ… Movement importado. Total processado (Insert/Update): 1508
ğŸ”„ Atualizando Materialized Views...
ğŸš€ [PID 535069] Iniciando Sorocaba_Refrescos_movements.xlsx (Movement)...
ğŸš€ Iniciando importaÃ§Ã£o para Movement...
âš™ï¸ Processando 3747 registros...
âœ… Processados 3747 registros vÃ¡lidos para inserÃ§Ã£o
   â†³ Lote 1: 3747 registros processados.
âœ… Movement importado. Total processado (Insert/Update): 3747
ğŸ”„ Atualizando Materialized Views...
ğŸš€ [PID 535068] Iniciando ABI_Brasil_health_events.xlsx (HealthEvent)...
ğŸš€ Iniciando importaÃ§Ã£o para HealthEvent...
âš™ï¸ Processando 380 registros...
âœ… Processados 380 registros vÃ¡lidos para inserÃ§Ã£o
   â†³ Lote 1: 380 registros processados.
âœ… HealthEvent importado. Total processado (Insert/Update): 380
ğŸ”„ Atualizando Materialized Views...
ğŸš€ [PID 535068] Iniciando Sorocaba_Refrescos_door_statuses.csv (DoorEvent)...
ğŸš€ Iniciando importaÃ§Ã£o para DoorEvent...
âš™ï¸ Processando 1668 registros...
âœ… Processados 0 registros vÃ¡lidos para inserÃ§Ã£o
âš ï¸ Nenhum registro vÃ¡lido para importar.
ğŸš€ [PID 535068] Iniciando Sorocaba_Refrescos_health_events.xlsx (HealthEvent)...
ğŸš€ Iniciando importaÃ§Ã£o para HealthEvent...
âš™ï¸ Processando 2982 registros...
âœ… Processados 2982 registros vÃ¡lidos para inserÃ§Ã£o
   â†³ Lote 1: 2982 registros processados.
âœ… HealthEvent importado. Total processado (Insert/Update): 2982
ğŸ”„ Atualizando Materialized Views...
ğŸš€ [PID 535066] Iniciando ABI_Brasil_alerts.xlsx (Alert)...
ğŸš€ Iniciando importaÃ§Ã£o para Alert...
âš™ï¸ Processando 16 registros...
âœ… Processados 16 registros vÃ¡lidos para inserÃ§Ã£o
   â†³ Lote 1: 16 registros processados.
âœ… Alert importado. Total processado (Insert/Update): 16
ğŸ”„ Atualizando Materialized Views...
ğŸš€ [PID 535066] Iniciando Fogel_de_Centroamerica,_S.A._movements.xlsx (Movement)...
ğŸš€ Iniciando importaÃ§Ã£o para Movement...
âš™ï¸ Processando 0 registros...
âœ… Processados 0 registros vÃ¡lidos para inserÃ§Ã£o
âš ï¸ Nenhum registro vÃ¡lido para importar.
ğŸš€ [PID 535066] Iniciando Fogel_de_Centroamerica,_S.A._users.xlsx (User)...
ğŸš€ Iniciando importaÃ§Ã£o para User...
âš™ï¸ Processando 3 registros...
âœ… Processados 3 registros vÃ¡lidos para inserÃ§Ã£o
   â†³ Lote 1: 3 registros processados.
âœ… User importado. Total processado (Insert/Update): 3
ğŸš€ [PID 535066] Iniciando Sorocaba_Refrescos_alerts.xlsx (Alert)...
ğŸš€ Iniciando importaÃ§Ã£o para Alert...
âš™ï¸ Processando 9 registros...
âœ… Processados 9 registros vÃ¡lidos para inserÃ§Ã£o
   â†³ Lote 1: 9 registros processados.
âœ… Alert importado. Total processado (Insert/Update): 9
ğŸ”„ Atualizando Materialized Views...
ğŸš€ [PID 535067] Iniciando ABI_Brasil_door_statuses.csv (DoorEvent)...
ğŸš€ Iniciando importaÃ§Ã£o para DoorEvent...
âš™ï¸ Processando 329 registros...
âœ… Processados 0 registros vÃ¡lidos para inserÃ§Ã£o
âš ï¸ Nenhum registro vÃ¡lido para importar.
ğŸš€ [PID 535067] Iniciando ABI_Brasil_users.xlsx (User)...
ğŸš€ Iniciando importaÃ§Ã£o para User...
âš™ï¸ Processando 4690 registros...
âœ… Processados 4690 registros vÃ¡lidos para inserÃ§Ã£o
   â†³ Lote 1: 4690 registros processados.
âœ… User importado. Total processado (Insert/Update): 4690
ğŸš€ [PID 535067] Iniciando Fogel_de_Centroamerica,_S.A._alerts.xlsx (Alert)...
ğŸš€ Iniciando importaÃ§Ã£o para Alert...
âš™ï¸ Processando 0 registros...
âœ… Processados 0 registros vÃ¡lidos para inserÃ§Ã£o
âš ï¸ Nenhum registro vÃ¡lido para importar.
ğŸš€ [PID 535067] Iniciando Fogel_de_Centroamerica,_S.A._door_statuses.csv (DoorEvent)...
ğŸš€ Iniciando importaÃ§Ã£o para DoorEvent...
âš™ï¸ Processando 0 registros...
âœ… Processados 0 registros vÃ¡lidos para inserÃ§Ã£o
âš ï¸ Nenhum registro vÃ¡lido para importar.
ğŸš€ [PID 535067] Iniciando Fogel_de_Centroamerica,_S.A._health_events.xlsx (HealthEvent)...
ğŸš€ Iniciando importaÃ§Ã£o para HealthEvent...
âš™ï¸ Processando 11 registros...
âœ… Processados 11 registros vÃ¡lidos para inserÃ§Ã£o
   â†³ Lote 1: 11 registros processados.
âœ… HealthEvent importado. Total processado (Insert/Update): 11
ğŸ”„ Atualizando Materialized Views...
ğŸš€ [PID 535067] Iniciando Sorocaba_Refrescos_users.xlsx (User)...
ğŸš€ Iniciando importaÃ§Ã£o para User...
âš™ï¸ Processando 264 registros...
âœ… Processados 264 registros vÃ¡lidos para inserÃ§Ã£o
   â†³ Lote 1: 264 registros processados.
âœ… User importado. Total processado (Insert/Update): 264
âœ… ABI_Brasil_door_statuses.csv: Sucesso. (Arquivo deletado)
âœ… ABI_Brasil_users.xlsx: Sucesso. (Arquivo deletado)
âœ… Fogel_de_Centroamerica,_S.A._alerts.xlsx: Sucesso. (Arquivo deletado)
âœ… Fogel_de_Centroamerica,_S.A._door_statuses.csv: Sucesso. (Arquivo deletado)
âœ… ABI_Brasil_alerts.xlsx: Sucesso. (Arquivo deletado)
âœ… Fogel_de_Centroamerica,_S.A._movements.xlsx: Sucesso. (Arquivo deletado)
âœ… Fogel_de_Centroamerica,_S.A._users.xlsx: Sucesso. (Arquivo deletado)
âœ… ABI_Brasil_health_events.xlsx: Sucesso. (Arquivo deletado)
âœ… Sorocaba_Refrescos_door_statuses.csv: Sucesso. (Arquivo deletado)
âœ… ABI_Brasil_movements.xlsx: Sucesso. (Arquivo deletado)
âœ… Fogel_de_Centroamerica,_S.A._health_events.xlsx: Sucesso. (Arquivo deletado)
âœ… Sorocaba_Refrescos_users.xlsx: Sucesso. (Arquivo deletado)
âœ… Sorocaba_Refrescos_movements.xlsx: Sucesso. (Arquivo deletado)
âœ… Sorocaba_Refrescos_health_events.xlsx: Sucesso. (Arquivo deletado)
âœ… Sorocaba_Refrescos_alerts.xlsx: Sucesso. (Arquivo deletado)

â±ï¸  Tempo total: 18604.72 segundos
ğŸ“Š Resumo: 15/15 arquivos importados com sucesso

ğŸ”„ Atualizando Materialized Views finais...
âœ… Materialized Views atualizadas.

[2025-11-26 12:11:50] âœ“ Scraping concluÃ­do com sucesso
[2025-11-26 12:11:50] ============================================
[2025-11-26 12:11:50] Scraping diÃ¡rio finalizado
[2025-11-26 12:11:50] ============================================
[2025-11-27 07:00:01] ============================================
[2025-11-27 07:00:01] Iniciando scraping paralelo diÃ¡rio
[2025-11-27 07:00:01] ============================================
[2025-11-27 07:00:01] Venv ativado com sucesso
[2025-11-27 07:00:01] Navegado para /home/vivaservicesai/htdocs/app
[2025-11-27 07:00:01] Executando: python3 utils/scraping_parallel.py daily 2
Traceback (most recent call last):
  File "/home/vivaservicesai/htdocs/app/utils/scraping_parallel.py", line 13, in <module>
    from utils.scraping import (
ModuleNotFoundError: No module named 'utils.scraping'
[2025-11-27 07:00:01] âœ— Scraping falhou com erro
[2025-11-27 07:00:01] ============================================
[2025-11-27 07:00:01] Scraping diÃ¡rio finalizado
[2025-11-27 07:00:01] ============================================
[2025-11-28 07:00:01] ============================================
[2025-11-28 07:00:01] Iniciando scraping paralelo diÃ¡rio
[2025-11-28 07:00:01] ============================================
[2025-11-28 07:00:01] Venv ativado com sucesso
[2025-11-28 07:00:01] Navegado para /home/vivaservicesai/htdocs/app
[2025-11-28 07:00:01] Executando: python3 utils/scraping_parallel.py daily 2
Traceback (most recent call last):
  File "/home/vivaservicesai/htdocs/app/utils/scraping_parallel.py", line 13, in <module>
    from utils.scraping import (
ModuleNotFoundError: No module named 'utils.scraping'
[2025-11-28 07:00:02] âœ— Scraping falhou com erro
[2025-11-28 07:00:02] ============================================
[2025-11-28 07:00:02] Scraping diÃ¡rio finalizado
[2025-11-28 07:00:02] ============================================
[2025-11-29 07:00:01] ============================================
[2025-11-29 07:00:01] Iniciando scraping paralelo diÃ¡rio
[2025-11-29 07:00:02] ============================================
[2025-11-29 07:00:02] Venv ativado com sucesso
[2025-11-29 07:00:02] Navegado para /home/vivaservicesai/htdocs/app
[2025-11-29 07:00:02] Executando: python3 utils/scraping_parallel.py daily 2
INICIANDO SCRAPING PARALELO (DAILY) - Max Workers: 2
================================================================================
Encontradas 3 contas para processar:
  - ABI Brasil (Username: abib_493)
  - Sorocaba Refrescos (Username: sorocaba_215)
  - Fogel de Centroamerica, S.A. (Username: fgl_426)

Iniciando processamento paralelo...

================================================================================
PROCESSANDO CLIENTE (DADOS DIÃRIOS): ABI Brasil (Username: abib_493)
================================================================================
Passo 1: Fazendo GET inicial para estabelecer sessao para abib_493...

================================================================================
PROCESSANDO CLIENTE (DADOS DIÃRIOS): Sorocaba Refrescos (Username: sorocaba_215)
================================================================================
Passo 1: Fazendo GET inicial para estabelecer sessao para sorocaba_215...
GET Status: 200

Passo 2: Fazendo POST com credenciais...
GET Status: 200

Passo 2: Fazendo POST com credenciais...
Login Status: 302
OK - Login bem-sucedido! Seguindo redirect...
Default Page Status: 200
Login realizado com sucesso para ABI Brasil

Buscando registros de saÃºde para ABI Brasil...

============================================================
Exportando registros de saÃºde dos dispositivos...
============================================================
PerÃ­odo: 11/27/2025 atÃ© 11/30/2025
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/SmartDeviceHealthRecord.ashx?v=Sun%20Nov%2030%202025%2000%3A00%3A00%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 9754 caracteres
Login Status: 302
OK - Login bem-sucedido! Seguindo redirect...
Default Page Status: 200
Login realizado com sucesso para Sorocaba Refrescos

Buscando registros de saÃºde para Sorocaba Refrescos...

============================================================
Exportando registros de saÃºde dos dispositivos...
============================================================
PerÃ­odo: 11/27/2025 atÃ© 11/30/2025
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/SmartDeviceHealthRecord.ashx?v=Sun%20Nov%2030%202025%2000%3A00%3A00%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 9754 caracteres

Status: 200
OK - Requisicao bem-sucedida!

OK - Arquivo XLSX salvo: docs/health_events.xlsx
Tamanho: 66683 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de saÃºde salvo: docs/ABI_Brasil_health_events.xlsx

Buscando registros de movimento para ABI Brasil...

============================================================
Exportando registros de movimento dos dispositivos...
============================================================
Periodo: 11/27/2025 ate 11/30/2025
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/SmartDeviceMovement.ashx?v=Sun%20Nov%2030%202025%2000%3A00%3A00%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 6447 caracteres

Status: 200
OK - Requisicao bem-sucedida!

OK - Arquivo XLSX salvo: docs/health_events.xlsx
Tamanho: 644356 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de saÃºde salvo: docs/Sorocaba_Refrescos_health_events.xlsx

Buscando registros de movimento para Sorocaba Refrescos...

============================================================
Exportando registros de movimento dos dispositivos...
============================================================
Periodo: 11/27/2025 ate 11/30/2025
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/SmartDeviceMovement.ashx?v=Sun%20Nov%2030%202025%2000%3A00%3A00%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 6447 caracteres

Status: 200
OK - Requisicao bem-sucedida!

OK - Arquivo XLSX salvo: docs/movements.xlsx
Tamanho: 250386 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de movimento salvo: docs/ABI_Brasil_movements.xlsx

Buscando alerts para ABI Brasil...

============================================================
Exportando dados de Alerts...
============================================================
PerÃ­odo: 11/27/2025 atÃ© 11/30/2025
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/Alert.ashx?v=Sun%20Nov%2030%202025%2000%3A00%3A00%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 6561 caracteres

Status: 200
OK - Requisicao bem-sucedida!

OK - Arquivo XLSX salvo: docs/movements.xlsx
Tamanho: 662971 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de movimento salvo: docs/Sorocaba_Refrescos_movements.xlsx

Buscando alerts para Sorocaba Refrescos...

============================================================
Exportando dados de Alerts...
============================================================
PerÃ­odo: 11/27/2025 atÃ© 11/30/2025
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/Alert.ashx?v=Sun%20Nov%2030%202025%2000%3A00%3A00%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 6561 caracteres

Status: 200
OK - RequisiÃ§Ã£o bem-sucedida!

OK - Arquivo XLSX salvo: docs/alerts.xlsx
Tamanho: 10048 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de alerts salvo: docs/ABI_Brasil_alerts.xlsx

Buscando door statuses para ABI Brasil...

============================================================
Exportando dados de Door Statuses...
============================================================
PerÃ­odo: 11/27/2025 atÃ© 11/30/2025
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/SmartDeviceDoorStatus.ashx?v=Sun%20Nov%2030%202025%2000%3A00%3A00%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 6933 caracteres

Status: 200
OK - RequisiÃ§Ã£o bem-sucedida!

OK - Arquivo XLSX salvo: docs/alerts.xlsx
Tamanho: 7863 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de alerts salvo: docs/Sorocaba_Refrescos_alerts.xlsx

Buscando door statuses para Sorocaba Refrescos...

============================================================
Exportando dados de Door Statuses...
============================================================
PerÃ­odo: 11/27/2025 atÃ© 11/30/2025
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/SmartDeviceDoorStatus.ashx?v=Sun%20Nov%2030%202025%2000%3A00%3A00%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 6933 caracteres

Status: 200
OK - RequisiÃ§Ã£o bem-sucedida!

OK - Arquivo CSV salvo: docs/door_statuses.csv
Tamanho: 262380 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de door statuses salvo: docs/ABI_Brasil_door_statuses.csv

Buscando users para ABI Brasil...

============================================================
Exportando dados de Users...
============================================================
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/SecurityAppUser.ashx?v=Sat%20Nov%2029%202025%2007%3A00%3A53%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 4663 caracteres

Status: 200
OK - RequisiÃ§Ã£o bem-sucedida!

OK - Arquivo CSV salvo: docs/door_statuses.csv
Tamanho: 1748808 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de door statuses salvo: docs/Sorocaba_Refrescos_door_statuses.csv

Buscando users para Sorocaba Refrescos...

============================================================
Exportando dados de Users...
============================================================
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/SecurityAppUser.ashx?v=Sat%20Nov%2029%202025%2007%3A01%3A06%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 4663 caracteres

Status: 200
OK - RequisiÃ§Ã£o bem-sucedida!

OK - Arquivo XLSX salvo: docs/users.xlsx
Tamanho: 40960 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de users salvo: docs/Sorocaba_Refrescos_users.xlsx

Fazendo logout de Sorocaba Refrescos...

============================================================
Fazendo logout...
============================================================
Status: 200
OK - Logout realizado com sucesso!
OK - Cookies limpos da sessao

============================================================
DOWNLOAD DIÃRIO COMPLETO - Sorocaba Refrescos
============================================================
Health Events: docs/Sorocaba_Refrescos_health_events.xlsx
Movements: docs/Sorocaba_Refrescos_movements.xlsx
Alerts: docs/Sorocaba_Refrescos_alerts.xlsx
Door Statuses: docs/Sorocaba_Refrescos_door_statuses.csv
Users: docs/Sorocaba_Refrescos_users.xlsx

Todos os dados diÃ¡rios de Sorocaba Refrescos foram baixados com sucesso!
Para inserir no banco de dados, execute: python3 import_all_data.py

================================================================================
PROCESSANDO CLIENTE (DADOS DIÃRIOS): Fogel de Centroamerica, S.A. (Username: fgl_426)
================================================================================
Passo 1: Fazendo GET inicial para estabelecer sessao para fgl_426...

>>> CONCLUSÃƒO: Sorocaba Refrescos finalizado com SUCESSO
GET Status: 200

Passo 2: Fazendo POST com credenciais...

Status: 200
OK - RequisiÃ§Ã£o bem-sucedida!

OK - Arquivo XLSX salvo: docs/users.xlsx
Tamanho: 536064 bytes
OK - Arquivo verificado e salvo com sucesso!
Login Status: 302
OK - Login bem-sucedido! Seguindo redirect...
OK - Arquivo de users salvo: docs/ABI_Brasil_users.xlsx

Fazendo logout de ABI Brasil...

============================================================
Fazendo logout...
============================================================
Default Page Status: 200
Login realizado com sucesso para Fogel de Centroamerica, S.A.

Buscando registros de saÃºde para Fogel de Centroamerica, S.A....

============================================================
Exportando registros de saÃºde dos dispositivos...
============================================================
PerÃ­odo: 11/27/2025 atÃ© 11/30/2025
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/SmartDeviceHealthRecord.ashx?v=Sun%20Nov%2030%202025%2000%3A00%3A00%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 9754 caracteres
Status: 200
OK - Logout realizado com sucesso!
OK - Cookies limpos da sessao

============================================================
DOWNLOAD DIÃRIO COMPLETO - ABI Brasil
============================================================
Health Events: docs/ABI_Brasil_health_events.xlsx
Movements: docs/ABI_Brasil_movements.xlsx
Alerts: docs/ABI_Brasil_alerts.xlsx
Door Statuses: docs/ABI_Brasil_door_statuses.csv
Users: docs/ABI_Brasil_users.xlsx

Todos os dados diÃ¡rios de ABI Brasil foram baixados com sucesso!
Para inserir no banco de dados, execute: python3 import_all_data.py

>>> CONCLUSÃƒO: ABI Brasil finalizado com SUCESSO

Status: 200
OK - Requisicao bem-sucedida!

OK - Arquivo XLSX salvo: docs/health_events.xlsx
Tamanho: 9132 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de saÃºde salvo: docs/Fogel_de_Centroamerica,_S.A._health_events.xlsx

Buscando registros de movimento para Fogel de Centroamerica, S.A....

============================================================
Exportando registros de movimento dos dispositivos...
============================================================
Periodo: 11/27/2025 ate 11/30/2025
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/SmartDeviceMovement.ashx?v=Sun%20Nov%2030%202025%2000%3A00%3A00%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 6447 caracteres

Status: 200
OK - Requisicao bem-sucedida!

OK - Arquivo XLSX salvo: docs/movements.xlsx
Tamanho: 6500 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de movimento salvo: docs/Fogel_de_Centroamerica,_S.A._movements.xlsx

Buscando alerts para Fogel de Centroamerica, S.A....

============================================================
Exportando dados de Alerts...
============================================================
PerÃ­odo: 11/27/2025 atÃ© 11/30/2025
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/Alert.ashx?v=Sun%20Nov%2030%202025%2000%3A00%3A00%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 6561 caracteres

Status: 200
OK - RequisiÃ§Ã£o bem-sucedida!

OK - Arquivo XLSX salvo: docs/alerts.xlsx
Tamanho: 6596 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de alerts salvo: docs/Fogel_de_Centroamerica,_S.A._alerts.xlsx

Buscando door statuses para Fogel de Centroamerica, S.A....

============================================================
Exportando dados de Door Statuses...
============================================================
PerÃ­odo: 11/27/2025 atÃ© 11/30/2025
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/SmartDeviceDoorStatus.ashx?v=Sun%20Nov%2030%202025%2000%3A00%3A00%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 6933 caracteres

Status: 200
OK - RequisiÃ§Ã£o bem-sucedida!

OK - Arquivo CSV salvo: docs/door_statuses.csv
Tamanho: 1314 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de door statuses salvo: docs/Fogel_de_Centroamerica,_S.A._door_statuses.csv

Buscando users para Fogel de Centroamerica, S.A....

============================================================
Exportando dados de Users...
============================================================
Enviando requisiÃ§Ã£o para: https://portal.visioniot.net/Controllers/SecurityAppUser.ashx?v=Sat%20Nov%2029%202025%2007%3A01%3A31%20GMT%20%28Brasilia%20Standard%20Time%29
Tamanho do payload: 4663 caracteres

Status: 200
OK - RequisiÃ§Ã£o bem-sucedida!

OK - Arquivo XLSX salvo: docs/users.xlsx
Tamanho: 6865 bytes
OK - Arquivo verificado e salvo com sucesso!
OK - Arquivo de users salvo: docs/Fogel_de_Centroamerica,_S.A._users.xlsx

Fazendo logout de Fogel de Centroamerica, S.A....

============================================================
Fazendo logout...
============================================================
Status: 200
OK - Logout realizado com sucesso!
OK - Cookies limpos da sessao

============================================================
DOWNLOAD DIÃRIO COMPLETO - Fogel de Centroamerica, S.A.
============================================================
Health Events: docs/Fogel_de_Centroamerica,_S.A._health_events.xlsx
Movements: docs/Fogel_de_Centroamerica,_S.A._movements.xlsx
Alerts: docs/Fogel_de_Centroamerica,_S.A._alerts.xlsx
Door Statuses: docs/Fogel_de_Centroamerica,_S.A._door_statuses.csv
Users: docs/Fogel_de_Centroamerica,_S.A._users.xlsx

Todos os dados diÃ¡rios de Fogel de Centroamerica, S.A. foram baixados com sucesso!
Para inserir no banco de dados, execute: python3 import_all_data.py

>>> CONCLUSÃƒO: Fogel de Centroamerica, S.A. finalizado com SUCESSO

================================================================================
RESUMO FINAL - TODOS OS CLIENTES (DAILY)
================================================================================
Sorocaba Refrescos: âœ“ SUCESSO
ABI Brasil: âœ“ SUCESSO
Fogel de Centroamerica, S.A.: âœ“ SUCESSO

Total processado: 3/3 clientes com sucesso
âœ“ Todos os clientes processados com sucesso!

============================================================
INICIANDO IMPORTAÃ‡ÃƒO AUTOMÃTICA DOS DADOS
============================================================
âœ“ ImportaÃ§Ã£o automÃ¡tica concluÃ­da com sucesso!

SaÃ­da da importaÃ§Ã£o:

================================================================================
ğŸš€ IMPORTAÃ‡ÃƒO EM LOTE OTIMIZADA (MULTIPROCESSING) - PORTAL ASSOCIAÃ‡ÃƒO
================================================================================

ğŸ“‚ Encontrados 15 arquivo(s) para importaÃ§Ã£o.
âš™ï¸  Utilizando 4 processos paralelos.

ğŸš€ [PID 192196] Iniciando ABI_Brasil_movements.xlsx (Movement)...
ğŸš€ Iniciando importaÃ§Ã£o para Movement...
âš™ï¸ Processando 1477 registros...
âœ… Processados 1477 registros vÃ¡lidos para inserÃ§Ã£o
   â†³ Lote 1: 1477 registros processados.
âœ… Movement importado. Total processado (Insert/Update): 1477
ğŸ”„ Atualizando Materialized Views...
ğŸš€ [PID 192196] Iniciando Sorocaba_Refrescos_door_statuses.csv (DoorEvent)...
ğŸš€ Iniciando importaÃ§Ã£o para DoorEvent...
âš™ï¸ Processando 1568 registros...
âœ… Processados 0 registros vÃ¡lidos para inserÃ§Ã£o
âš ï¸ Nenhum registro vÃ¡lido para importar.
ğŸš€ [PID 192196] Iniciando Sorocaba_Refrescos_health_events.xlsx (HealthEvent)...
ğŸš€ Iniciando importaÃ§Ã£o para HealthEvent...
âš™ï¸ Processando 3167 registros...
âœ… Processados 3167 registros vÃ¡lidos para inserÃ§Ã£o
   â†³ Lote 1: 3167 registros processados.
âœ… HealthEvent importado. Total processado (Insert/Update): 3167
ğŸ”„ Atualizando Materialized Views...
ğŸš€ [PID 192195] Iniciando ABI_Brasil_health_events.xlsx (HealthEvent)...
ğŸš€ Iniciando importaÃ§Ã£o para HealthEvent...
âš™ï¸ Processando 288 registros...
âœ… Processados 288 registros vÃ¡lidos para inserÃ§Ã£o
   â†³ Lote 1: 288 registros processados.
âœ… HealthEvent importado. Total processado (Insert/Update): 288
ğŸ”„ Atualizando Materialized Views...
ğŸš€ [PID 192195] Iniciando Sorocaba_Refrescos_movements.xlsx (Movement)...
ğŸš€ Iniciando importaÃ§Ã£o para Movement...
âš™ï¸ Processando 4110 registros...
âœ… Processados 4110 registros vÃ¡lidos para inserÃ§Ã£o
   â†³ Lote 1: 4110 registros processados.
âœ… Movement importado. Total processado (Insert/Update): 4110
ğŸ”„ Atualizando Materialized Views...
ğŸš€ [PID 192194] Iniciando ABI_Brasil_door_statuses.csv (DoorEvent)...
ğŸš€ Iniciando importaÃ§Ã£o para DoorEvent...
âš™ï¸ Processando 154 registros...
âœ… Processados 0 registros vÃ¡lidos para inserÃ§Ã£o
âš ï¸ Nenhum registro vÃ¡lido para importar.
ğŸš€ [PID 192194] Iniciando ABI_Brasil_users.xlsx (User)...
ğŸš€ Iniciando importaÃ§Ã£o para User...
âš™ï¸ Processando 4690 registros...
âœ… Processados 4690 registros vÃ¡lidos para inserÃ§Ã£o
   â†³ Lote 1: 4690 registros processados.
âœ… User importado. Total processado (Insert/Update): 4690
ğŸš€ [PID 192194] Iniciando Fogel_de_Centroamerica,_S.A._alerts.xlsx (Alert)...
ğŸš€ Iniciando importaÃ§Ã£o para Alert...
âš™ï¸ Processando 0 registros...
âœ… Processados 0 registros vÃ¡lidos para inserÃ§Ã£o
âš ï¸ Nenhum registro vÃ¡lido para importar.
ğŸš€ [PID 192194] Iniciando Fogel_de_Centroamerica,_S.A._door_statuses.csv (DoorEvent)...
ğŸš€ Iniciando importaÃ§Ã£o para DoorEvent...
âš™ï¸ Processando 0 registros...
âœ… Processados 0 registros vÃ¡lidos para inserÃ§Ã£o
âš ï¸ Nenhum registro vÃ¡lido para importar.
ğŸš€ [PID 192194] Iniciando Fogel_de_Centroamerica,_S.A._health_events.xlsx (HealthEvent)...
ğŸš€ Iniciando importaÃ§Ã£o para HealthEvent...
âš™ï¸ Processando 11 registros...
âœ… Processados 11 registros vÃ¡lidos para inserÃ§Ã£o
   â†³ Lote 1: 11 registros processados.
âœ… HealthEvent importado. Total processado (Insert/Update): 11
ğŸ”„ Atualizando Materialized Views...
ğŸš€ [PID 192194] Iniciando Sorocaba_Refrescos_users.xlsx (User)...
ğŸš€ Iniciando importaÃ§Ã£o para User...
âš™ï¸ Processando 264 registros...
âœ… Processados 264 registros vÃ¡lidos para inserÃ§Ã£o
   â†³ Lote 1: 264 registros processados.
âœ… User importado. Total processado (Insert/Update): 264
ğŸš€ [PID 192193] Iniciando ABI_Brasil_alerts.xlsx (Alert)...
ğŸš€ Iniciando importaÃ§Ã£o para Alert...
âš™ï¸ Processando 13 registros...
âœ… Processados 13 registros vÃ¡lidos para inserÃ§Ã£o
   â†³ Lote 1: 13 registros processados.
âœ… Alert importado. Total processado (Insert/Update): 13
ğŸ”„ Atualizando Materialized Views...
ğŸš€ [PID 192193] Iniciando Fogel_de_Centroamerica,_S.A._movements.xlsx (Movement)...
ğŸš€ Iniciando importaÃ§Ã£o para Movement...
âš™ï¸ Processando 0 registros...
âœ… Processados 0 registros vÃ¡lidos para inserÃ§Ã£o
âš ï¸ Nenhum registro vÃ¡lido para importar.
ğŸš€ [PID 192193] Iniciando Fogel_de_Centroamerica,_S.A._users.xlsx (User)...
ğŸš€ Iniciando importaÃ§Ã£o para User...
âš™ï¸ Processando 3 registros...
âœ… Processados 3 registros vÃ¡lidos para inserÃ§Ã£o
   â†³ Lote 1: 3 registros processados.
âœ… User importado. Total processado (Insert/Update): 3
ğŸš€ [PID 192193] Iniciando Sorocaba_Refrescos_alerts.xlsx (Alert)...
ğŸš€ Iniciando importaÃ§Ã£o para Alert...
âš™ï¸ Processando 3 registros...
âœ… Processados 3 registros vÃ¡lidos para inserÃ§Ã£o
   â†³ Lote 1: 3 registros processados.
âœ… Alert importado. Total processado (Insert/Update): 3
ğŸ”„ Atualizando Materialized Views...
âœ… ABI_Brasil_door_statuses.csv: Sucesso. (Arquivo deletado)
âœ… ABI_Brasil_users.xlsx: Sucesso. (Arquivo deletado)
âœ… Fogel_de_Centroamerica,_S.A._alerts.xlsx: Sucesso. (Arquivo deletado)
âœ… Fogel_de_Centroamerica,_S.A._door_statuses.csv: Sucesso. (Arquivo deletado)
âœ… ABI_Brasil_alerts.xlsx: Sucesso. (Arquivo deletado)
âœ… Fogel_de_Centroamerica,_S.A._movements.xlsx: Sucesso. (Arquivo deletado)
âœ… Fogel_de_Centroamerica,_S.A._users.xlsx: Sucesso. (Arquivo deletado)
âœ… ABI_Brasil_movements.xlsx: Sucesso. (Arquivo deletado)
âœ… Sorocaba_Refrescos_door_statuses.csv: Sucesso. (Arquivo deletado)
âœ… ABI_Brasil_health_events.xlsx: Sucesso. (Arquivo deletado)
âœ… Fogel_de_Centroamerica,_S.A._health_events.xlsx: Sucesso. (Arquivo deletado)
âœ… Sorocaba_Refrescos_users.xlsx: Sucesso. (Arquivo deletado)
âœ… Sorocaba_Refrescos_health_events.xlsx: Sucesso. (Arquivo deletado)
âœ… Sorocaba_Refrescos_alerts.xlsx: Sucesso. (Arquivo deletado)
âœ… Sorocaba_Refrescos_movements.xlsx: Sucesso. (Arquivo deletado)

â±ï¸  Tempo total: 8724.12 segundos
ğŸ“Š Resumo: 15/15 arquivos importados com sucesso

ğŸ”„ Atualizando Materialized Views finais...
âœ… Materialized Views atualizadas.

[2025-11-29 09:27:05] âœ“ Scraping concluÃ­do com sucesso
[2025-11-29 09:27:05] ============================================
[2025-11-29 09:27:05] Scraping diÃ¡rio finalizado
[2025-11-29 09:27:05] ============================================
